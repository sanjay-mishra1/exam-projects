(this.webpackJsonpgopay=this.webpackJsonpgopay||[]).push([[0],{183:function(e,t,a){},184:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=(a(183),a(13)),l=a(14),d=a(16),j=a(15),u=(a(184),a(18)),h=a(65),b=a(141),p=a(8),g="SET_AUTHENTICATED",m="SET_UNAUTHENTICATED",A="SET_USER",x="LOADING_USER",O="MARK_NOTIFICATIONS_READ",f="SET_ERRORS",y="LOADING_UI",C="CLEAR_ERRORS",I="LOADING_DATA",E="STOP_LOADING_UI",w="ERROR",v="MESSAGE",B="USER_INFO",D="STOP_LOADING_DATA",R="NOTIFICATIONS",S="RECENT_TRANSACTIONS",T="TRANSACTIONS",k="USERS",Q="NEW_PAYMENT",N="CLEAR_NEW_PAYMENT",U="NEW_REQUEST",F="CLEAR_NEW_REQUEST",P="DEDUCT_BALANCE",L="GET_TRANSACTION",M="GET_TRANSACTION",J="PAGE_INDEX",H={authenticated:!1,loading:!1,credentials:{},notifications:[],error:"",message:""},Y={loading:!1},K={loading:!1,errors:null,index:1},W=[b.a],X=Object(h.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(p.a)(Object(p.a)({},e),{},{authenticated:!0});case m:return H;case A:return Object(p.a)({authenticated:!0,loading:!1},t.payload);case x:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case R:return Object(p.a)(Object(p.a)({},e),{},{notifications:t.payload,loading:!1});case O:return e.notifications.forEach((function(e){return e.read=!0})),Object(p.a)({},e);case w:return console.log("dispatching error",t.payload),Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case P:return e.credentials.balance-=t.payload,console.log(e),Object(p.a)({},e);case v:return console.log("dispatching message",t.payload),Object(p.a)(Object(p.a)({},e),{},{message:t.payload});case B:return console.log(t.payload),Object(p.a)(Object(p.a)({},e),{},{loading:!1,userInformation:t.payload});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case D:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case S:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,recentTransaction:t.payload});case T:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,transactions:t.payload});case k:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,users:t.payload});case Q:return console.log("new pay",t.payload,e),Object(p.a)(Object(p.a)({},e),t.payload);case U:return Object(p.a)(Object(p.a)({},e),t.payload);case N:case F:return Object(p.a)(Object(p.a)({},e),{},{transData:{}});case L:return Object(p.a)(Object(p.a)({},e),{},{transaction:Object(p.a)({},t.payload)});case M:return Object(p.a)(Object(p.a)({},e),{},{transaction:null});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,errors:t.payload});case C:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,errors:null});case J:return Object(p.a)(Object(p.a)({},e),{},{index:t.payload});case y:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case E:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:return e}}}),q=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):h.d)(h.a.apply(void 0,W)),V=Object(h.e)(X,{},q),z=a(22),G=a.n(z),Z=function(){return function(e){console.log("logout user"),localStorage.removeItem("FBIdToken"),localStorage.removeItem("uid"),delete G.a.defaults.headers.common.Authorization,e({type:m}),"login"===window.location.href.includes&&"signup"===window.location.href.includes||(window.location.href="/login")}},_=function(){return function(e){e({type:I}),G.a.get("/user").then((function(t){localStorage.setItem("uid",t.data.credentials.uid),e({type:A,payload:t.data})})).catch((function(t){try{t.response.data.code&&"auth/id-token-expired"===t.response.data.code&&(localStorage.getItem("uid")&&localStorage.removeItem("uid"),e({type:m}),e(Z))}catch(a){}console.log(t)}))}},$=function(){return function(e){e({type:I}),G.a.get("/user?type=personal").then((function(t){console.log(t.data),e({type:B,payload:t.data}),e({type:D})})).catch((function(t){try{t.response.data.code&&"auth/id-token-expired"===t.response.data.code&&(localStorage.getItem("uid")&&localStorage.removeItem("uid"),e({type:m}),e(Z))}catch(a){}e({type:D}),console.log(t)}))}},ee=function(){return function(e){e({type:I}),console.log("notification"),G.a.get("/notifications").then((function(t){e({type:R,payload:t.data}),e({type:D})})).catch((function(t){e({type:R,payload:[]}),e({type:D})}))}},te=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),G.a.defaults.headers.common.Authorization=t},ae=a(34),se=a(19),ne=a(310),re=a(113),ce=a.n(re),ie=a(142),oe=a(158),le=Object(u.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(oe.a)(e,["component","authenticated"]);return Object(s.jsx)(se.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return!0===a?Object(s.jsx)(se.a,{to:"/"}):Object(s.jsx)(t,Object(p.a)({},e))}}))})),de=a(301),je=function(){return function(e){e({type:I}),G.a.get("/transactions?type=recent").then((function(t){e({type:T,payload:t.data})})).catch((function(t){e({type:T,payload:[]})}))}},ue=function(){return function(e){e({type:I}),G.a.get("/transactions").then((function(t){e({type:T,payload:t.data})})).catch((function(t){e({type:T,payload:[]})}))}},he=function(){return function(e){e({type:I}),G.a.get("/users").then((function(t){e({type:k,payload:t.data})})).catch((function(t){e({type:k,payload:[]})}))}},be=a(320),pe=a(5),ge=a(59),me=a(24),Ae=a(4),xe=a(285),Oe=a(321),fe=a(242),ye=a(287),Ce=a(288),Ie=a(243),Ee=a(289),we=a(291),ve=a(98),Be=a.n(ve),De=a(290),Re=a(292),Se=a(293),Te=a(294),ke=a(295),Qe=a(296),Ne=240,Ue=Object(xe.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Ne,width:"calc(100% - ".concat(Ne,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Ne,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ne,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(me.a)({zIndex:"auto",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var Fe=Object(be.a)()((function(e){var t=Ue(),a=r.a.useState(e.index),n=Object(ge.a)(a,2),c=n[0],i=n[1],o="/"!==window.location.pathname,l=Object(se.g)(),d=function(e){if(0!==e)if(2!==e){if(o)return console.log("sending back"),V.dispatch({type:J,payload:e}),void l.goBack();c!==e&&(i(e),j(e),V.dispatch({type:J,payload:e})),console.log("set change index",e,"selected",c)}else window.location.href="/request";else window.location.href="/pay"},j=function(e){switch(console.log("user tab change ",e),e){case 0:window.location.href="/pay";break;case 1:V.dispatch(he()),V.dispatch(je());break;case 2:window.location.href="/request";break;case 3:V.dispatch(ue());break;case 4:V.dispatch($());break;case 5:console.log("notification"),V.dispatch(ee());break;case 6:V.dispatch(Z());break;default:return}};return Object(s.jsxs)("div",{className:t.root,children:[Object(s.jsx)(ye.a,{}),Object(s.jsxs)(Oe.a,{variant:"permanent",className:Object(Ae.a)(t.drawer,Object(me.a)({},t.drawerOpen,!0)),classes:{paper:Object(Ae.a)(Object(me.a)({},t.drawerOpen,!0))},children:[Object(s.jsx)(Ce.a,{className:t.toolbar}),Object(s.jsxs)(fe.a,{children:[Object(s.jsxs)(Ie.a,{button:!0,style:{borderRadius:25,color:"#ffffff",background:"#369fff",maxWidth:"max-content",margin:"auto"},index:0,onClick:function(){d(0)},selected:0===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(De.a,{fontSize:"large",style:{color:"#ffffff"}})}),Object(s.jsx)(we.a,{primary:"New Payment"})]}),Object(s.jsx)("br",{}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Ie.a,{button:!0,index:1,onClick:function(){console.log("handle",1),d(1)},selected:1===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(Be.a,{style:1===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Home"})]}),Object(s.jsxs)(Ie.a,{button:!0,index:2,onClick:function(){console.log("handle",1),d(2)},selected:2===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(Re.a,{style:2===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Request Payment"})]}),Object(s.jsxs)(Ie.a,{button:!0,index:3,onClick:function(){console.log("handle",3),d(3)},selected:3===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(Se.a,{style:3===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Transactions"})]}),Object(s.jsxs)(Ie.a,{button:!0,index:4,onClick:function(){console.log("handle",4),d(4)},selected:4===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(Te.a,{style:4===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Account"})]})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(fe.a,{children:[Object(s.jsxs)(Ie.a,{button:!0,index:5,onClick:function(){console.log("handle",5),d(5)},selected:5===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(ke.a,{style:5===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Notifications"})]}),Object(s.jsxs)(Ie.a,{button:!0,index:6,onClick:function(){console.log("handle",6),d(6)},selected:6===c,children:[Object(s.jsx)(Ee.a,{children:Object(s.jsx)(Qe.a,{style:6===c?{color:"#369fff"}:null})}),Object(s.jsx)(we.a,{primary:"Logout"})]})]})]})]})})),Pe=a(297),Le=a(298),Me=a(299),Je=a(300),He=a(35),Ye=a.n(He),Ke=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){e.props.history.push("/transaction/".concat(e.props.transaction.tid))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.transaction,t=e.amount,a=e.createdAt,n=e.imageUrl,r=e.status,c=e.message,i=e.username;return Object(s.jsxs)(Pe.a,{variant:"outlined",style:{position:"relative",display:"flex",cursor:"pointer"},onClick:this.handleClick,children:[Object(s.jsx)(Le.a,{image:n,title:"",style:{width:58,borderRadius:50,height:58,margin:10},component:"img"}),Object(s.jsx)(Me.a,{style:{objectFit:"cover",padding:0,width:"100%"},children:Object(s.jsx)("table",{style:{width:"100%"},children:Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)("p",{children:i}),Object(s.jsx)("p",{children:Ye()(a).format("DD MMM YY hh:mm")})]}),Object(s.jsx)("td",{style:{textAlign:"end"},children:Object(s.jsx)(Je.a,{variant:"outlined",style:{marginRight:10},color:"success"===r?"primary":"error",children:r})})]}),Object(s.jsx)("tr",{children:Object(s.jsxs)("td",{children:[Object(s.jsxs)("h4",{style:{marginTop:-2},children:["\u20b9",t]}),c&&""!==c&&Object(s.jsx)("p",{children:c})]})})]})})})]})}}]),a}(n.Component),We=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props),Object(s.jsx)(r.a.Fragment,{children:this.props.transactions&&this.props.transactions.length&&Object(s.jsxs)(Pe.a,{children:[Object(s.jsx)("h4",{style:{margin:20,fontSize:20},children:"Transactions"}),Object(s.jsx)(Ce.a,{}),this.props.transactions.map((function(t,a){return Object(s.jsx)(Ke,{history:e.props.history,transaction:t},a)}))]})})}}]),a}(n.Component),Xe=function(e){var t=e.userName,a=e.userImage,n=e.uid,r=e.onUserClick;return Object(s.jsxs)("div",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){return r&&r(n,t,a)},children:[Object(s.jsx)("img",{src:a,alt:t,style:{width:58,borderRadius:50,height:58,margin:10}}),Object(s.jsx)("p",{children:t})]})},qe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.customStyle,c=t.className;return console.log(a),Object(s.jsx)(r.a.Fragment,{children:a&&0!==a.length?Object(s.jsxs)(Pe.a,{style:n,className:c,children:[Object(s.jsx)("h4",{style:{margin:20,fontSize:20},children:"Contacts"}),Object(s.jsx)(Ce.a,{}),Object(s.jsx)(de.a,{container:!0,children:a.map((function(t,a){return Object(s.jsx)(Xe,{onUserClick:e.props.onClick,userImage:t.imageUrl,userName:t.username,uid:t.uid},a)}))})]}):null})}}]),a}(n.Component),Ve=a(117),ze=a(147),Ge=a.n(ze),Ze=a(146),_e=a.n(Ze),$e=a(99),et=a.n($e),tt=a(148),at=a.n(tt),st=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.userInformation,t=e.balance,a=e.createdAt,n=e.email,r=e.imageUrl,c=e.mobilenumber,i=e.username,o=this.props.classes;return Object(s.jsxs)(Ve.a,{children:[Object(s.jsxs)("div",{style:{position:"relative",display:"flex",backgroundColor:"#369fff54"},children:[Object(s.jsxs)("div",{style:{objectFit:"cover",padding:20,width:"100%"},children:[Object(s.jsx)("h1",{children:i}),Object(s.jsx)(et.a,{color:"primary",className:o.svgIcon}),Object(s.jsxs)("span",{style:{fontSize:"large",marginTop:6},className:o.spanArea,children:["\u20b9 ",t]})]}),Object(s.jsx)("img",{style:{width:150,height:150,margin:10},src:r,alt:i})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)("div",{style:{margin:10},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(_e.a,{color:"primary",className:o.svgIcon}),Object(s.jsx)("span",{className:o.spanArea,children:c})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)(Ge.a,{color:"primary",className:o.svgIcon}),Object(s.jsx)("span",{className:o.spanArea,children:n})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)(at.a,{color:"primary",className:o.svgIcon}),Object(s.jsxs)("span",{className:o.spanArea,children:["Joined ",Ye()(a).format("MMM YYYY")," "]})]})]})]})}}]),a}(n.Component),nt=Object(pe.a)({svgIcon:{float:"left",marginTop:6},spanArea:{width:"79%",height:18,marginStart:"10px",marginTop:9,display:"inline-block",textAlign:"left",marginBottom:10}})(st),rt=a(302);function ct(e){var t=e.small;return console.log(t),Object(s.jsx)(de.a,{item:!0,style:{marginTop:t?"70%":"20%",marginLeft:t?"0%":"30%"},children:Object(s.jsx)(rt.a,{size:40})})}function it(e){var t=e.notifications;return console.log(t),Object(s.jsx)(r.a.Fragment,{children:t&&t.length&&t.map((function(e,t){return Object(s.jsx)(lt,{data:e},t)}))})}var ot=function(e,t,a,n){if(e)switch(e){case"transfer":return"\u20b9".concat(a," is transferred to ").concat(t," successfully");case"receiver":return"\u20b9".concat(a," is received from ").concat(t," successfully");case"request":return Object(s.jsxs)(r.a.Fragment,{children:["\u20b9 ",a," is requested by ",t,Object(s.jsxs)("p",{children:["Message:",n]})]});default:return n||null}};function lt(e){var t=e.data,a=Object(se.g)();console.log(t);var n=t.imageUrl,r=t.amount,c=(t.tid,t.sender),i=t.type,o=t.username,l=t.message,d=t.createdAt,j="request"===i?"pointer":null;return Object(s.jsxs)(Pe.a,{onClick:i&&"request"===i?function(){a.push("/pay?imageUrl=".concat(n,"&uid=").concat(c,"&username=").concat(o,"&amount=").concat(r))}:null,variant:"outlined",style:{position:"relative",display:"flex",cursor:j},children:[Object(s.jsx)(Le.a,{image:n,title:"",style:{width:58,borderRadius:50,height:58,margin:10},component:"img"}),Object(s.jsxs)(Me.a,{style:{objectFit:"cover",padding:0,width:"100%"},children:[Object(s.jsx)("table",{style:{width:"100%"},children:Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[Object(s.jsx)("p",{children:o}),Object(s.jsx)("p",{children:Ye()(d).format("DD MMM YY hh:mm")})]}),Object(s.jsx)("td",{style:{textAlign:"end"},children:Object(s.jsx)(Je.a,{variant:"outlined",style:{marginRight:10},color:"primary",children:i})})]})}),Object(s.jsx)("h4",{style:{marginTop:-2,lineHeight:"16px"},children:ot(i,o,r,l)})]})]})}var dt=a(303),jt=a(304),ut=a(305),ht=a(306),bt=a(149),pt=a.n(bt);function gt(e){var t=e.message,a=e.extraMessage,n=e.data;return Object(s.jsxs)("div",{style:{padding:10},children:[Object(s.jsx)(pt.a,{htmlColor:"#9ac432",style:{fontSize:"8.5rem"}}),Object(s.jsx)("p",{children:t}),a&&Object(s.jsx)("p",{children:a}),Object(s.jsx)(Ce.a,{style:{marginLeft:-10,marginRight:-10}}),n&&Object(s.jsxs)("table",{style:{lineHeight:0,textAlign:"start",width:"100%"},children:[n.tid&&Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{style:{color:"gray"},children:Object(s.jsx)("p",{children:"Refrence no "})}),Object(s.jsx)("td",{children:Object(s.jsx)("p",{children:n.tid})})]}),n.amount&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:" Amount"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:["\u20b9 ",n.amount]})})]}),n.mobilenumber&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:"Mobile"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:[" ",n.mobilenumber]})})]}),n.createdAt&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:"Time"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:[" ",Ye()(n.createdAt).format("DD MMM YY hh:mm")]})})]})]})]})}var mt=a(150),At=a.n(mt);function xt(e){var t=e.message,a=e.extraMessage,n=e.data;return Object(s.jsxs)("div",{style:{padding:10},children:[Object(s.jsx)(At.a,{color:"error",style:{fontSize:"8.5rem"}}),Object(s.jsx)("p",{style:{marginTop:100},children:t}),a&&Object(s.jsx)("p",{children:a}),Object(s.jsx)(Ce.a,{}),n&&Object(s.jsxs)("table",{style:{lineHeight:0,textAlign:"start",width:"100%"},children:[n.tid&&Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{style:{color:"gray"},children:Object(s.jsx)("p",{children:"Refrence no "})}),Object(s.jsx)("td",{children:Object(s.jsx)("p",{children:n.tid})})]}),n.amount&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:" Amount"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:["\u20b9 ",n.amount]})})]}),n.mobilenumber&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:"Mobile"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:[" ",n.mobilenumber]})})]}),n.createdAt&&Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{style:{color:"gray"},children:[Object(s.jsx)("p",{children:"Time"})," "]}),Object(s.jsx)("td",{children:Object(s.jsxs)("p",{children:[" ",Ye()(n.createdAt).format("DD MMM YY hh:mm")]})})]})]})]})}var Ot=a(70),ft=a.n(Ot),yt=a(151),Ct=a.n(yt),It=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).handleClose=function(){e.props.history.goBack()},e.getTransactionMarkup=function(t){return console.log("transaction-details",t),!t||!t.tid===e.props.tid||t.loading?Object(s.jsx)(rt.a,{size:40,style:{placeSelf:"center",marginBottom:"20%",marginTop:"10%"}}):0===Object.keys(t).length||t.error?Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsx)("p",{children:"Invalid transaction reference number"})}):(a=t.status&&"success"===t.status?"sender"===t.type?"Money send successfully":"Money recieved successfully":t.statusMessage,Object(s.jsx)(r.a.Fragment,{children:t.status&&Object(s.jsx)(dt.a,{style:{minHeight:300,textAlign:"center"},children:"success"===t.status?Object(s.jsx)(gt,{message:a,data:t}):Object(s.jsx)(xt,{message:a,data:t})})}));var a},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getTransactionDetails(this.props.tid)}},{key:"render",value:function(){var e=this.props.data.transaction,t=this.props,a=t.width,n=t.open;return console.log(this.props),Object(s.jsxs)(jt.a,{open:n,onClose:this.handleClose,fullWidth:!0,maxWidth:!0,fullScreen:"xs"===a,children:[Object(s.jsxs)(ut.a,{children:[Object(s.jsx)(ht.a,{onClick:this.handleClose,style:{marginLeft:-24,marginTop:-6},children:"xs"===a?Object(s.jsx)(ft.a,{htmlColor:"#369fff"}):Object(s.jsx)(Ct.a,{})}),Object(s.jsx)("span",{style:{marginTop:4},children:"Payment Detail "})]}),Object(s.jsx)(Ce.a,{}),this.getTransactionMarkup(e)]})}}]),a}(n.Component),Et=Object(u.b)((function(e){return{data:e.data,authenticated:e.user.authenticated}}),{getTransactionDetails:function(e){return function(t){t({type:L,payload:{loading:"loading"}}),G.a.get("/transaction/".concat(e)).then((function(e){t({type:L,payload:e.data})})).catch((function(e){t({type:L,payload:e.response.data})}))}}})(It),wt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={profile:null,screenIdParam:null,owner:!1,index:e.props.UI.index,globalIndex:e.props.UI.index},e.getUI=function(t){switch(e.props.UI.index){case 0:break;case 1:return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsxs)(de.a,{item:!0,sm:8,lg:6,xs:11,children:["xs"===t&&Object(s.jsx)(qe,{users:e.props.data.users,customStyle:{marginBottom:20}}),Object(s.jsx)(We,{history:e.props.history,transactions:e.props.data.transactions}),"sm"===t||"md"===t?Object(s.jsx)(qe,{users:e.props.data.users,customStyle:{marginTop:20}}):null]}),Object(s.jsx)(de.a,{item:!0,sm:10,lg:3,xs:11,children:"lg"===t&&Object(s.jsx)(qe,{users:e.props.data.users})})]});case 2:window.location.href="/request";break;case 3:return Object(s.jsx)(de.a,{item:!0,sm:8,lg:6,xs:11,children:Object(s.jsx)(We,{history:e.props.history,transactions:e.props.data.transactions})});case 4:return Object(s.jsx)(r.a.Fragment,{children:e.props.user.userInformation&&Object(s.jsx)(de.a,{item:!0,sm:8,lg:8,xs:11,children:Object(s.jsx)(nt,{userInformation:e.props.user.userInformation})})});case 5:return Object(s.jsx)(r.a.Fragment,{children:e.props.user.notifications&&Object(s.jsx)(de.a,{item:!0,sm:8,lg:8,xs:11,children:Object(s.jsx)(it,{notifications:e.props.user.notifications})})});case 6:V.dispatch(Z()),window.location.href="/login";break;default:return}},e.openPay=function(){window.location.href="/pay"},e.openHome=function(){e.props.getRecentContacts(),e.props.getRecentTransactions()},e.openRequest=function(){window.location.href="/request"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("uid")?(this.props.getRecentContacts(),this.props.getRecentTransactions()):window.location.href="/login"}},{key:"render",value:function(){var e=this.props.data.loading,t=this.props,a=t.classes,n=t.width,c=t.authenticated;console.log(this.props),console.log("page type",this.props.match.params.tid);var i=e?Object(s.jsx)(ct,{small:"xs"===n}):this.getUI(n);return Object(s.jsx)(r.a.Fragment,{children:c&&Object(s.jsxs)(de.a,{container:!0,spacing:2,justify:"xs"!==n?"flex-start":"center",className:a.root,children:[Object(s.jsx)(de.a,{item:!0,children:"xs"!==n&&Object(s.jsx)(Fe,{index:this.props.UI.index,handleTabChange:this.handleTabChange})}),i,this.props.match.params.tid&&Object(s.jsx)(Et,{tid:this.props.match.params.tid,width:n,history:this.props.history,open:!0})]})})}}]),a}(n.Component),vt=Object(be.a)()(Object(u.b)((function(e){return{data:e.data,user:e.user,UI:e.UI,authenticated:e.user.authenticated}}),{getNotifications:ee,getRecentContacts:he,getRecentTransactions:je,getUserPersonalData:$,getTransactions:ue,logoutUser:Z})(Object(pe.a)({root:{width:"100%"},playIcon:{left:"50%",margin:"-57px 0 0 -31px",position:"absolute",top:"50%",cursor:"pointer",zIndex:1},imageContent:{alignItems:"center",justifyContent:"center",display:"flex"}})(wt))),Bt=a(45),Dt=a.n(Bt),Rt="data:image/png;base64,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",St=a(74),Tt=a(319),kt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(me.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(s.jsxs)(de.a,{container:!0,className:t.form,children:[Object(s.jsx)(de.a,{item:!0,sm:!0}),Object(s.jsxs)(de.a,{item:!0,sm:!0,children:[Object(s.jsx)("img",{src:Rt,alt:"monkey",className:t.image}),Object(s.jsx)(St.a,{variant:"h2",className:t.pageTitle,children:"Login"}),Object(s.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(s.jsx)(Tt.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(s.jsx)(Tt.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),n.gerneral&&Object(s.jsx)(St.a,{variant:"body2",className:t.customError,children:n.gerneral}),Object(s.jsxs)(Je.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a,children:["Login",a&&Object(s.jsx)(rt.a,{size:30,className:t.progress})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("small",{children:["dont have an account ? sign up ",Object(s.jsx)(ae.b,{to:"/signup",children:"here"})]})]})]}),Object(s.jsx)(de.a,{item:!0,sm:!0})]})}}]),a}(n.Component),Qt={loginUser:function(e,t){return function(a){a({type:y}),G.a.post("/login",e).then((function(e){te(e.data.token),localStorage.setItem("uid","waiting"),a(_()),a({type:C}),t.push("/")})).catch((function(e){var t;t=e.response.data.errors?e.response.data.errors:e.response.data,console.log(t),a({type:f,payload:t})}))}}},Nt=Object(u.b)((function(e){return{user:e.user,UI:e.UI}}),Qt)(Dt()((function(e){return Object(p.a)({},e.spreadIt)}))(kt)),Ut=a(7),Ft=a.n(Ut),Pt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,mobilenumber:e.state.mobilenumber,username:e.state.username};console.log("sending data",a),e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(me.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(s.jsxs)(de.a,{container:!0,className:t.form,children:[Object(s.jsx)(de.a,{item:!0,sm:!0}),Object(s.jsxs)(de.a,{item:!0,sm:!0,children:[Object(s.jsx)("img",{src:Rt,alt:"letssocially",className:t.image}),Object(s.jsx)(St.a,{variant:"h2",className:t.pageTitle,children:"Signup"}),Object(s.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(s.jsx)(Tt.a,{id:"email",name:"email",type:"email",label:"Email",helperText:n.email,error:!!n.email,className:t.textField,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(s.jsx)(Tt.a,{id:"username",name:"username",type:"username",label:"Full name",helperText:n.username,error:!!n.username,className:t.textField,value:this.state.username,onChange:this.handleChange,fullWidth:!0}),Object(s.jsx)(Tt.a,{id:"password",name:"password",type:"password",label:"Password",helperText:n.password,error:!!n.password,className:t.textField,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),Object(s.jsx)(Tt.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",helperText:n.confirmPassword,error:!!n.confirmPassword,className:t.textField,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),Object(s.jsx)(Tt.a,{id:"mobilenumber",name:"mobilenumber",type:"tel",label:"Mobile number",helperText:n.mobilenumber,error:!!n.mobilenumber,className:t.textField,value:this.state.mobilenumber,onChange:this.handleChange,fullWidth:!0}),n.gerneral&&Object(s.jsx)(St.a,{variant:"body2",className:t.customError,children:n.gerneral}),Object(s.jsxs)(Je.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:t.button,disabled:a,children:["Signup",a&&Object(s.jsx)(rt.a,{className:t.progress,size:30})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("small",{children:["Already have an account? Login ",Object(s.jsx)(ae.b,{to:"/login",children:"here"})]})]})]}),Object(s.jsx)(de.a,{item:!0,sm:!0})]})}}]),a}(n.Component);Pt.propType={classes:Ft.a.object.isRequired,user:Ft.a.object.isRequired,UI:Ft.a.object.isRequired,signupUser:Ft.a.func.isRequired};var Lt=Object(u.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:y}),G.a.post("/signup",e).then((function(e){te(e.data.token),localStorage.setItem("uid","waiting"),a(_()),a({type:C}),t.push("/")})).catch((function(e){var t;t=e.response.data.errors?e.response.data.errors:e.response.data,a({type:f,payload:t})}))}}})(Dt()((function(e){return Object(p.a)({},e.spreadIt)}))(Pt)),Mt=a(315),Jt=a(316),Ht=a(155),Yt=a.n(Ht),Kt=a(159),Wt=a(311),Xt=a(322),qt=a(101),Vt=a.n(qt),zt=a(312),Gt=a(152),Zt=a.n(Gt),_t=a(153),$t=a.n(_t);function ea(e){var t=e.not,a=e.icon,n=e.message,r=e.time,c=e.handleClose;return Object(s.jsxs)(Wt.a,{onClick:c,children:[a,t.tid!==t.id&&Object(s.jsxs)(St.a,{component:ae.b,color:"default",variant:"body1",to:"/transaction/".concat(t.tid),children:[n," ",r]}),t.tid===t.id?"request"!==t.type?Object(s.jsxs)(St.a,{color:"default",variant:"body1",children:[n," ",r]}):Object(s.jsxs)(St.a,{component:ae.b,color:"default",variant:"body1",to:"/pay?imageUrl=".concat(t.imageUrl,"&uid=").concat(t.sender,"&username=").concat(t.username,"&amount=").concat(t.amount),children:[n," ",r]}):null]},t.createdAt)}var ta=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={anchorEl:null},e.handleOpen=function(t){e.setState({anchorEl:t.target})},e.handleClose=function(){e.setState({anchorEl:null})},e.onMenuOpened=function(){var t=e.props.notifications.filter((function(e){return!e.read})).map((function(e){return e.id}));e.props.markNotificationsRead(t)},e.getMessageMarkup=function(e,t,a,n){if(!e)return n||null;switch(e){case"transfer":return"\u20b9".concat(a," is transferred to ").concat(t," successfully");case"receiver":return"\u20b9".concat(a," is received from ").concat(t," successfully");case"request":return Object(s.jsxs)(r.a.Fragment,{children:["\u20b9 ",a," is requested by ",t,"."," ",n&&Object(s.jsxs)(r.a.Fragment,{children:["Message:",n]})]});default:return n||null}},e.getNotificationIcon=function(e,t){if(!e)return Object(s.jsx)(Te.a,{color:t,style:{marginRight:10}});switch(e){case"transfer":return Object(s.jsx)(Re.a,{color:t,style:{marginRight:10}});case"receiver":return Object(s.jsx)(et.a,{color:t,style:{marginRight:10}});case"request":return Object(s.jsx)($t.a,{color:t,style:{marginRight:10}});default:return Object(s.jsx)(Te.a,{color:t,style:{marginRight:10}})}},e}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.notifications,c=this.props.authenticated,i=this.state.anchorEl;Ye.a.extend(Zt.a),e=a&&a.length>0&&a.filter((function(e){return!1===e.read})).length>0?Object(s.jsx)(zt.a,{badgeContent:a.filter((function(e){return!1===e.read})).length,color:"secondary",children:Object(s.jsx)(Vt.a,{})}):Object(s.jsx)(Vt.a,{});var o=a&&a.length>0?a.map((function(e){var a=Object(s.jsx)("sapn",{style:{color:"gray"},children:Ye()(e.createdAt).fromNow()}),n=e.read?"primary":"secondary",c=t.getNotificationIcon(e.type,n),i=t.getMessageMarkup(e.type,e.username,e.amount,e.message);return Object(s.jsx)(r.a.Fragment,{children:Object(s.jsx)(ea,{icon:c,message:i,not:e,time:a,handleClose:t.handleClose},e.id)})})):Object(s.jsx)(Wt.a,{onClick:this.handleClose,children:"You have no notifications yet"});return Object(s.jsx)(n.Fragment,{children:c&&Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(Xt.a,{placement:"top",title:"Notifications",children:Object(s.jsx)(ht.a,{"aria-owns":i?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpen,children:e})}),Object(s.jsx)(Kt.a,{anchorEl:i,open:Boolean(i),onClose:this.handleClose,onEntered:this.onMenuOpened,children:o})]})})}}]),a}(n.Component),aa=Object(u.b)((function(e){return{notifications:e.user.notifications,authenticated:e.user.authenticated}}),{markNotificationsRead:function(e){return function(t){G.a.post("/notifications",e).then((function(e){t({type:O})})).catch((function(e){return console.log(e)}))}}})(ta),sa=a(317),na=a(314),ra=a(308),ca=a(313),ia=a(309),oa=function(e){return"xs"!==e.width?Object(s.jsx)(Xt.a,{title:"Settings",placement:"bottom",children:Object(s.jsx)(ht.a,{tip:"User",children:Object(s.jsx)(Le.a,{component:"img",image:e.imageUrl,style:{borderRadius:50,width:28}})})}):Object(s.jsx)(la,{imageUrl:e.imageUrl})};function la(e){var t=Object(se.g)(),a=r.a.useState(!1),c=Object(ge.a)(a,2),i=c[0],o=c[1],l=r.a.useRef(null),d=r.a.useState(1),j=Object(ge.a)(d,2),u=j[0],h=j[1],b="/"!==window.location.pathname,g=function(e){l.current&&l.current.contains(e.target)||o(!1)};function m(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}var A=r.a.useRef(i);r.a.useEffect((function(){!0===A.current&&!1===i&&l.current.focus(),A.current=i}),[i]);var x=function(e){b?t.goBack():(o(!1),u!==e&&(h(e),function(e){switch(e){case 0:window.location.href="/pay";break;case 1:V.dispatch(he()),V.dispatch(je());break;case 2:window.location.href="/request";break;case 3:V.dispatch(ue());break;case 4:V.dispatch($());break;case 5:console.log("notification"),V.dispatch(ee());break;case 6:V.dispatch(Z());break;default:return}console.log("tab change ",e)}(e)),V.dispatch({type:J,payload:e}))},O=function(){x(1)},f=function(){x(2)},y=function(){x(3)},C=function(){x(4)},I=function(){x(5)},E=function(){x(6)};return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(Xt.a,{title:"Settings",placement:"bottom",children:Object(s.jsx)(ht.a,{ref:l,"aria-controls":i?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){o((function(e){return!e}))},tip:"User",children:Object(s.jsx)(Le.a,{component:"img",image:e.imageUrl,style:{borderRadius:50,width:28}})})}),Object(s.jsx)(ca.a,{open:i,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(s.jsx)(ra.a,Object(p.a)(Object(p.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(s.jsx)(Ve.a,{children:Object(s.jsx)(na.a,{onClickAway:g,children:Object(s.jsxs)(ia.a,{autoFocusItem:i,id:"menu-list-grow",onKeyDown:m,children:[Object(s.jsxs)(Wt.a,{onClick:O,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(Be.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"Home"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Wt.a,{onClick:f,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(Re.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"Request Payment"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Wt.a,{onClick:y,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(Se.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"Transactions"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Wt.a,{onClick:C,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(Te.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"My Account"})," "]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Wt.a,{onClick:I,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(ke.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"Notification"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsxs)(Wt.a,{onClick:E,children:[Object(s.jsx)(ht.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"primary",children:Object(s.jsx)(Qe.a,{style:{color:"#0000008a"}})}),Object(s.jsx)("p",{children:"Logout"})]})]})})})}))}})]})}Object(u.b)((function(e){return{}}),{})(oa);var da=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.authenticated,a=e.classes,c=e.width,i=this.props.user.credentials,o=i.imageUrl,l=i.balance;console.log(this.props);var d="xs"===c?43:51,j="xs"===c?"center":"end";return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsxs)(Mt.a,{className:a.appBar,color:"primary",elevation:0,children:[Object(s.jsx)(Jt.a,{className:"nav-container",style:{width:"100%"},children:Object(s.jsx)(de.a,{container:!0,children:t?Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)(de.a,{item:!0,sm:2,xs:3,style:{alignSelf:"center"},children:l&&Object(s.jsx)(Pe.a,{style:{borderRadius:16,background:"#ffffff",color:"black",textAlign:"center",border:"solid",borderColor:"#369fff"},children:Object(s.jsxs)(St.a,{className:a.title,variant:"h6",noWrap:!0,style:{fontFamily:"math"},children:["\u20b9 ",l]})})}),Object(s.jsx)(de.a,{item:!0,sm:6,xs:4,lg:6,style:{paddingLeft:"10%",textAlign:"center",alignSelf:"center"},children:Object(s.jsx)("img",{src:"data:image/png;base64,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",alt:"EarthPay",style:{filter:"invert(1)",height:d,marginTop:7}})}),Object(s.jsxs)(de.a,{item:!0,sm:4,xs:5,style:{textAlign:j},children:[t&&Object(s.jsx)(aa,{}),Object(s.jsx)(oa,{imageUrl:o,width:c})]})]}):Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(de.a,{item:!0,sm:2,xs:3,style:{alignSelf:"center"}}),Object(s.jsx)(de.a,{item:!0,sm:6,xs:4,style:{textAlign:"end",alignSelf:"center"},children:Object(s.jsx)(St.a,{className:a.title,variant:"h6",children:"EarthPay"})}),Object(s.jsx)(de.a,{item:!0,sm:4,xs:5,style:{textAlign:"end"}})]})})}),Object(s.jsx)(Ce.a,{})]}),t&&"xs"===c&&!window.location.href.includes("pay")&&Object(s.jsxs)(sa.a,{variant:"extended",color:"primary","aria-label":"add",style:{zIndex:"1"},className:a.fab,onClick:function(){window.location.href="/pay"},children:[Object(s.jsx)(Yt.a,{className:a.extendedIcon}),"New Payment"]})]})}}]),a}(n.Component),ja=Object(be.a)()(Object(u.b)((function(e){return{authenticated:e.user.authenticated,user:e.user}}))(Dt()((function(e){return Object(p.a)(Object(p.a)({},e.spreadIt),{},{title:Object(me.a)({},e.breakpoints.up("sm"),{display:"block"}),appBar:{zIndex:e.zIndex.drawer+1},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)}})}))(da))),ua=a(157),ha=a.n(ua),ba=a(156),pa=a.n(ba),ga=a(307);function ma(e){var t=r.a.useState(!1),a=Object(ge.a)(t,2),n=a[0],c=a[1],i=r.a.useState(""),o=Object(ge.a)(i,2),l=o[0],d=o[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("table",{style:{width:"100%"},children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("p",{style:{color:"gray"},children:"ENTER UPI PIN"})}),Object(s.jsx)("td",{children:Object(s.jsxs)(ht.a,{onClick:function(){c(!n)},children:[!n&&Object(s.jsx)(pa.a,{}),n&&Object(s.jsx)(ha.a,{})]})})]})}),Object(s.jsx)(ga.a,{style:{textAlign:"center",textAlignLast:"center"},type:n?"text":"password",id:"upi-pwd",onChange:function(e){d(e.target.value.replace(/[^0-9]/g,""))},value:l,inputProps:{"aria-label":"description"}}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(Je.a,{onClick:function(){e.handleUPIBt(l)},variant:"contained",color:"primary",children:"Send"})]})}var Aa=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={showPayment:!1,message:"",showUPI:!1,errors:{},size:8,showUsers:!0,upiPWD:"123456"},e.handleUserClick=function(t,a,s){if(!e.props.UI.loading&&(V.dispatch({type:N}),V.dispatch({type:C}),e.state.uid!==t)){var n=e.state.size;8===n&&(n/=2),e.setState({uid:t,userName:a,userImage:s,showPayment:!0,size:n,amount:"",message:"",errors:{}})}},e.handleChange=function(t){if("amount"===t.target.name){var a=t.target.value.replace(/[^0-9]/g,"");e.setState(Object(me.a)({},t.target.name,a))}else e.setState(Object(me.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({showUPI:!0})},e.closePaymentWindow=function(){var t=new URL(window.location.href);new URLSearchParams(t.search).get("uid")&&(V.dispatch({type:N}),V.dispatch({type:C}),window.history.back()),e.setState({uid:null,userName:null,userImage:null,showPayment:!1,size:8,amount:"",message:"",errors:{}})},e.showUpiBt=function(t){if(t===e.state.upiPWD){var a={uid:e.state.uid,amount:parseInt(e.state.amount),message:e.state.message};e.setState({showUPI:!1,showPayment:!0}),e.props.sendPayment(a)}else V.dispatch({type:Q,payload:{transData:{message:"Invalid UPI password",code:500,status:"failed"}}})},e.getTransFields=function(t){return console.log("trans field",e.state),Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("br",{}),e.state.showUPI?Object(s.jsx)(ma,{handleUPIBt:e.showUpiBt}):Object(s.jsxs)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[Object(s.jsx)(Tt.a,{id:"amount",name:"amount",type:"amount",label:"Amount",autoComplete:"off",helperText:e.state.errors.amount,error:!!e.state.errors.amount,value:e.state.amount,onChange:e.handleChange,variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(Tt.a,{id:"message",name:"message",type:"message",label:"Message",autoComplete:"off",helperText:e.state.errors.message,error:!!e.state.errors.message,value:e.state.message,onChange:e.handleChange}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(Je.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:e.props.UI.loading,children:["Send",e.props.UI.loading&&Object(s.jsx)(rt.a,{size:30,className:t.progress})]}),Object(s.jsx)("br",{})]})]})},e.getTransWindow=function(t,a){return e.props.data.transData?e.props.data.transData.status&&e.props.data.transData.message&&200===e.props.data.transData.code&&"success"===e.props.data.transData.status?Object(s.jsx)(gt,{message:e.props.data.transData.message,extraMessage:"Payment is completed and can take about 1-2 days to reflect into the users account. For any error please contact us with the reference number",data:e.props.data.transData}):e.props.data.transData.status&&e.props.data.transData.message&&500===e.props.data.transData.code&&"failed"===e.props.data.transData.status?Object(s.jsx)(xt,{message:e.props.data.transData.message,extraMessage:"Payment is Failed because of an error. If amount is deducted from your account, it will be transfer back to your account in 1-2 days. Sorry for any inconvinence caused."}):e.getTransFields(t):e.getTransFields(t)},e.getDilog=function(t,a){return Object(s.jsxs)(jt.a,{open:e.state.showPayment,onClose:e.handleClose,fullWidth:!0,maxWidth:!0,fullScreen:!0,children:[Object(s.jsxs)(ut.a,{children:[Object(s.jsx)(ht.a,{onClick:e.closePaymentWindow,style:{marginLeft:-24,marginTop:-6},children:Object(s.jsx)(ft.a,{htmlColor:"#369fff"})}),Object(s.jsx)("span",{style:{marginTop:4},children:" Send Payment"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsx)(dt.a,{children:Object(s.jsx)(de.a,{item:!0,sm:e.state.size,lg:e.state.size,xs:11,style:{textAlign:"center"},children:Object(s.jsxs)(Pe.a,{variant:"outlined",className:"xs"!==a?t.content:null,children:[Object(s.jsx)("br",{}),Object(s.jsx)("table",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("img",{style:{borderRadius:"50%",width:58,height:58},src:e.state.userImage,alt:"user"})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{children:e.state.userName})})]})}),Object(s.jsx)(Ce.a,{}),e.getTransWindow(t,a),Object(s.jsx)("br",{})]})})})]})},e.getTransContent=function(t,a){return Object(s.jsx)(r.a.Fragment,{children:Object(s.jsx)(de.a,{item:!0,sm:e.state.size,lg:e.state.size,xs:11,style:{textAlign:"center"},children:Object(s.jsxs)(Pe.a,{variant:"outlined",className:"xs"!==a?t.content:null,children:[Object(s.jsx)("br",{}),Object(s.jsx)("table",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("img",{style:{borderRadius:"50%",width:58,height:58},src:e.state.userImage,alt:"user"})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{children:e.state.userName})})]})}),Object(s.jsx)(Ce.a,{}),e.getTransWindow(t,a),Object(s.jsx)("br",{})]})})})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search);console.log("params",t),t.get("imageUrl")&&t.get("uid")&&t.get("username")&&t.get("amount")?(console.log("setting state"),this.setState({uid:t.get("uid"),amount:t.get("amount"),userImage:t.get("imageUrl"),userName:t.get("username"),showPayment:!0,showUsers:!1})):(V.dispatch({type:C}),this.setState({uid:null,amount:"",userImage:null,userName:null}),this.props.getRecentContacts()),console.log(this.state)}},{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.data,t=e.loading,a=e.users,n=this.props,r=n.width,c=n.classes;return console.log(this.props),Object(s.jsxs)(de.a,{container:!0,spacing:2,justify:"center",className:c.root,children:[Object(s.jsx)(de.a,{item:!0,children:"xs"!==r&&Object(s.jsx)(Fe,{index:0,handleTabChange:this.handleTabChange})}),t?!this.state.showPayment&&Object(s.jsx)(ct,{small:"xs"===r}):a&&this.state.showUsers&&Object(s.jsx)(de.a,{item:!0,sm:this.state.size,lg:this.state.size,xs:11,children:Object(s.jsx)(qe,{className:"xs"!==r?c.content:null,users:a,onClick:this.handleUserClick})}),this.state.showPayment&&"xs"===r&&this.getDilog(c,r),this.state.showPayment&&"xs"!==r&&this.getTransContent(c,r)]})}}]),a}(n.Component),xa=Object(be.a)()(Object(u.b)((function(e){return{data:e.data,UI:e.UI}}),{getRecentContacts:he,sendPayment:function(e){return function(t){t({type:y}),G.a.post("/transaction",e).then((function(e){t({type:C}),console.log("message action",e.data.message),t({type:Q,payload:{transData:{mobilenumber:e.data.mobilenumber,username:e.data.username,message:e.data.message,code:200,status:"success",amount:e.data.amount,tid:e.data.tid}}}),t({type:P,payload:e.data.amount})})).catch((function(e){var a;a=e.response.data.errors?e.response.data.errors:e.response.data,500===e.response.status?t({type:Q,payload:{transData:{message:a,code:500,status:"failed"}}}):t({type:f,payload:a})}))}}})(Dt()({root:{width:"100%"},content:{display:"table",width:"100%",height:"-webkit-fill-available",marginBottom:"-5%"},progress:{position:"absolute"}})(Aa))),Oa=a(318),fa=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={uid:null,amount:"",message:"",showPayment:!1,userImage:null,userName:null,errors:{},size:8,showUsers:!0},e.handleUserClick=function(t,a,s){if(V.dispatch({type:F}),V.dispatch({type:C}),e.state.uid!==t){var n=e.state.size;8===n&&(n/=2),e.setState({uid:t,userName:a,userImage:s,showPayment:!0,size:n,amount:"",message:"",errors:{}})}},e.handleChange=function(t){if("amount"===t.target.name){var a=t.target.value.replace(/[^0-9]/g,"");e.setState(Object(me.a)({},t.target.name,a))}else e.setState(Object(me.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={uid:e.state.uid,amount:parseInt(e.state.amount),message:e.state.message};e.props.sendPaymentRequest(a)},e.closePaymentWindow=function(){e.setState({uid:null,userName:null,userImage:null,showPayment:!1,size:8,amount:"",message:"",errors:{}})},e.getTransFields=function(t){return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsxs)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[Object(s.jsx)(Tt.a,{id:"amount",name:"amount",type:"amount",label:"Amount",autoComplete:"off",helperText:e.state.errors.amount,error:!!e.state.errors.amount,value:e.state.amount,onChange:e.handleChange,variant:"outlined",inputProps:{startAdornment:Object(s.jsx)(Oa.a,{position:"start",children:"\u20b9 "})}}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(Tt.a,{id:"message",name:"message",type:"message",label:"Message",autoComplete:"off",helperText:e.state.errors.message,error:!!e.state.errors.message,value:e.state.message,onChange:e.handleChange}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(Je.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:e.props.UI.loading,children:["Send",e.props.UI.loading&&Object(s.jsx)(rt.a,{size:30,className:t.progress})]}),Object(s.jsx)("br",{})]})]})},e.getTransWindow=function(t,a){return e.props.data.transData.status&&e.props.data.transData.message&&200===e.props.data.transData.code&&"success"===e.props.data.transData.status?Object(s.jsx)(gt,{message:e.props.data.transData.message}):e.props.data.transData.status&&e.props.data.transData.message&&500===e.props.data.transData.code&&"failed"===e.props.data.transData.status?Object(s.jsx)(xt,{message:e.props.data.transData.message}):e.getTransFields(t)},e.getDilog=function(t,a){return Object(s.jsxs)(jt.a,{open:e.state.showPayment,onClose:e.handleClose,fullWidth:!0,maxWidth:!0,fullScreen:!0,children:[Object(s.jsxs)(ut.a,{children:[Object(s.jsx)(ht.a,{onClick:e.closePaymentWindow,style:{marginLeft:-24,marginTop:-6},children:Object(s.jsx)(ft.a,{htmlColor:"#369fff"})}),Object(s.jsx)("span",{style:{marginTop:4},children:" Send Payment Request"})]}),Object(s.jsx)(Ce.a,{}),Object(s.jsx)(dt.a,{children:Object(s.jsx)(de.a,{item:!0,sm:e.state.size,lg:e.state.size,xs:11,style:{textAlign:"center"},children:Object(s.jsxs)(Pe.a,{variant:"outlined",className:"xs"!==a?t.content:null,children:[Object(s.jsx)("br",{}),Object(s.jsx)("table",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("img",{style:{borderRadius:"50%",width:58,height:58},src:e.state.userImage,alt:"user"})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{children:e.state.userName})})]})}),Object(s.jsx)(Ce.a,{}),e.getTransWindow(t,a),Object(s.jsx)("br",{})]})})})]})},e.getTransContent=function(t,a){return Object(s.jsx)(r.a.Fragment,{children:Object(s.jsx)(de.a,{item:!0,sm:e.state.size,lg:e.state.size,xs:11,style:{textAlign:"center"},children:Object(s.jsxs)(Pe.a,{variant:"outlined",className:"xs"!==a?t.content:null,children:[Object(s.jsx)("br",{}),Object(s.jsx)("table",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("img",{style:{borderRadius:"50%",width:58,height:58},src:e.state.userImage,alt:"user"})}),Object(s.jsx)("td",{children:Object(s.jsx)("span",{children:e.state.userName})})]})}),Object(s.jsx)(Ce.a,{}),e.getTransWindow(t,a),Object(s.jsx)("br",{})]})})})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search);console.log("params",t),console.log("uid",t.get("uid")),t.get("imageUrl")&&t.get("uid")&&t.get("username")&&t.get("amount")?this.setState({uid:t.get("uid"),amount:t.get("amount"),userImage:t.get("imageUrl"),userName:t.get("username"),showPayment:!0,showUsers:!1}):(V.dispatch({type:C}),this.props.getRecentContacts())}},{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.data,t=e.loading,a=e.users,n=this.props,r=n.width,c=n.classes;return console.log(this.props),Object(s.jsxs)(de.a,{container:!0,spacing:2,justify:"center",className:c.root,children:[Object(s.jsx)(de.a,{item:!0,children:"xs"!==r&&Object(s.jsx)(Fe,{index:2,handleTabChange:this.handleTabChange})}),t?Object(s.jsx)(ct,{small:"xs"===r}):a&&this.state.showUsers&&Object(s.jsx)(de.a,{item:!0,sm:this.state.size,lg:this.state.size,xs:11,children:Object(s.jsx)(qe,{className:"xs"!==r?c.content:null,users:a,onClick:this.handleUserClick})}),this.state.showPayment&&"xs"===r&&this.getDilog(c,r),this.state.showPayment&&"xs"!==r&&this.getTransContent(c,r)]})}}]),a}(n.Component),ya=Object(be.a)()(Object(u.b)((function(e){return{data:e.data,UI:e.UI}}),{getRecentContacts:he,sendPaymentRequest:function(e){return function(t){t({type:y}),G.a.post("/transaction/request",e).then((function(e){t({type:C}),console.log(e.data),t({type:U,payload:{transData:{message:e.data.message,code:200,status:"success"}}})})).catch((function(e){var a;a=e.response.data.errors?e.response.data.errors:e.response.data,console.log(a),500===e.response.status?t({type:U,payload:{transData:{message:a,code:500,status:"failed"}}}):t({type:f,payload:a})}))}}})(Dt()({root:{width:"100%"},content:{display:"table",width:"100%",height:"-webkit-fill-available",marginBottom:"-5%"},progress:{position:"absolute"}})(fa))),Ca=ce()({palette:{secondary:{light:"#7530ff",dark:"#7530ff",contrastText:"#ffffff",main:"#7530ff"},primary:{main:"#369fff",light:"#369fff",dark:"#7530ff",contrastText:"#ffffff"}},spreadIt:{subTitle:{color:"#8e8e8e",marginTop:4},title:{color:"#000000",fontWeight:"bold",marginTop:10},horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:"auto",borderTop:"0px solid #eff1f3"},link:{paddingLeft:16,paddingTop:5,marginTop:-8,width:"inherit",textDecoration:"none",marginLeft:-16,marginRight:-16,"&:hover":{cursor:"pointer",background:"#eff1f3"}},searchResultContainer:{width:"32em",zIndex:1,position:"fixed",marginTop:14},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto",height:120},textField:{margin:"5px auto 10px auto"},pageTitle:{margin:"5px auto 10px auto"},button:{marginTop:"20px",position:"relative"},customError:{color:"red",fontSize:".8rem",marginTop:"10"},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative",marginRight:-20,marginLeft:-21,"& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:134,height:134,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"start",marginTop:18,"& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}},hiddenBt:{display:"none"}}});G.a.defaults.baseURL="https://asia-south1-earth-payment.cloudfunctions.net/api";var Ia=localStorage.FBIdToken;Ia?1e3*Object(ie.a)(Ia).esp<Date.now()||!localStorage.getItem("uid")?V.dispatch(Z()):(V.dispatch({type:g}),G.a.defaults.headers.common.Authorization=Ia,V.dispatch(_())):localStorage.removeItem("uid");var Ea=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(ne.a,{theme:Ca,children:Object(s.jsx)(u.a,{store:V,children:Object(s.jsxs)(ae.a,{children:[Object(s.jsx)(ja,{props:this.props,width:this.props.width}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(se.d,{children:[Object(s.jsx)(se.b,{exact:!0,path:"/",component:vt,width:this.props.width}),Object(s.jsx)(se.b,{exact:!0,path:"/transaction/:tid",component:vt}),Object(s.jsx)(le,{exact:!0,path:"/login",component:Nt}),Object(s.jsx)(le,{exact:!0,path:"/signup",component:Lt}),Object(s.jsx)(se.b,{exact:!0,path:"/pay",component:xa}),Object(s.jsx)(se.b,{exact:!0,path:"/request/",component:ya})]})})]})})})}}]),a}(n.Component),wa=Object(be.a)()(Ea),va=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,323)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(wa,{})}),document.getElementById("root")),va()}},[[235,1,2]]]);
//# sourceMappingURL=main.9bb65700.chunk.js.map